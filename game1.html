<!DOCTYPE html>
<html lang="uz">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Ferkaveka - O'yinlar</title>
<style>
  :root {
    --color-bg-light: #f0f0f5;
    --color-text-light: #333;
    --color-bg-dark: #121212;
    --color-text-dark: #eee;
    --color-primary: #764ba2;
    --color-primary-dark: #5a3480;
  }

  body {
    margin: 0; padding: 0; font-family: Arial, sans-serif;
    background: var(--color-bg-light);
    color: var(--color-text-light);
    transition: background 0.5s, color 0.5s;
  }
  body.dark {
    background: var(--color-bg-dark);
    color: var(--color-text-dark);
  }
  #loadingScreen {
    position: fixed; top:0; left:0; width:100%; height:100%;
    background: linear-gradient(-45deg, #667eea, #764ba2, #a678d1, #4c3a87);
    background-size: 400% 400%;
    animation: gradientBG 10s ease infinite;
    color: white;
    font-size: 2.5rem;
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    z-index: 10000;
    user-select: none;
  }
  #loadingScreen.hidden {
    display: none;
  }
  #progressBarContainer {
    width: 70%; height: 10px; background: rgba(255,255,255,0.3);
    border-radius: 12px; overflow: hidden;
    margin-top: 30px;
  }
  #progressBar {
    height: 100%; width: 0%; background: #d1c4e9; border-radius: 12px;
    transition: width 0.2s ease;
  }

  #mainContent {
    max-width: 1000px;
    margin: 30px auto 50px;
    padding: 0 20px;
    display: none;
  }
  #topBar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    flex-wrap: wrap;
    gap: 12px;
  }
  #searchInput {
    flex-grow: 1;
    min-width: 200px;
    padding: 12px 18px;
    font-size: 1.2rem;
    border-radius: 12px;
    border: 1px solid #ccc;
    box-sizing: border-box;
  }
  #themeToggle {
    background: var(--color-primary);
    border: none;
    border-radius: 20px;
    color: white;
    padding: 12px 24px;
    cursor: pointer;
    font-weight: bold;
    box-shadow: 0 4px 12px var(--color-primary-dark);
    transition: background 0.3s ease;
  }
  #themeToggle:hover {
    background: var(--color-primary-dark);
  }

  #gameCards {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    justify-content: center;
  }
  .card {
    background: white;
    border-radius: 16px;
    box-shadow: 0 12px 28px rgba(118,75,162,0.25);
    width: 280px;
    cursor: default;
    overflow: hidden;
    user-select: none;
    transition: transform 0.3s ease, background 0.5s, color 0.5s;
    display: flex;
    flex-direction: column;
  }
  body.dark .card {
    background: #222;
    color: var(--color-text-dark);
    box-shadow: 0 12px 28px rgba(118,75,162,0.6);
  }
  .card:hover {
    transform: translateY(-10px) rotateX(10deg) rotateY(15deg);
  }
  .card img {
    width: 100%;
    height: 160px;
    object-fit: cover;
    pointer-events: none;
  }
  .card-content {
    padding: 14px 18px;
    flex-grow: 1;
  }
  .card-content h3 {
    margin: 0 0 10px;
    color: var(--color-primary);
  }
  body.dark .card-content h3 {
    color: #a57ce0;
  }
  .card-content p {
    margin: 0 0 14px;
    color: #444;
  }
  body.dark .card-content p {
    color: #ccc;
  }
  .btnGroup {
    padding: 0 18px 18px;
    display: flex;
    justify-content: center;
  }
  .btnPlay {
    background: var(--color-primary);
    border: none;
    border-radius: 20px;
    color: white;
    padding: 12px 30px;
    font-size: 1.1rem;
    cursor: pointer;
    font-weight: bold;
    box-shadow: 0 5px 15px var(--color-primary-dark);
    transition: background-color 0.3s ease, transform 0.2s ease;
    user-select: none;
  }
  .btnPlay:hover {
    background-color: var(--color-primary-dark);
    transform: scale(1.1);
  }


  @media (max-width: 600px) {
    #gameCards {
      flex-direction: column;
      align-items: center;
    }
    .card {
      width: 90%;
    
    }

  }



  @keyframes gradientBG {
    0% {background-position:0% 50%;}
    50% {background-position:100% 50%;}
    100% {background-position:0% 50%;}
  }

  @keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-6px) rotate(-3deg); }
    50% { transform: translateX(6px) rotate(3deg); }
    75% { transform: translateX(-6px) rotate(-3deg); }
  }
</style>
</head>
<body>

<!-- Yuklanish ekran -->
<div id="loadingScreen" role="alert" aria-live="assertive">
  <div id="loadingText" style="
    animation: shake 1s ease-in-out infinite;
    margin-bottom: 30px;
    font-weight: 700;
    text-shadow: 0 0 10px #d1c4e9;
  ">Yuklanmoqda...</div>
  <div id="progressBarContainer">
    <div id="progressBar"></div>
  </div>
</div>

<!-- Asosiy kontent -->
<div id="mainContent" role="main" aria-label="O'yinlar sahifasi">
  <div id="topBar">
    <input
      type="search"
      id="searchInput"
      placeholder="O'yinlarni qidirish..."
      aria-label="O'yinlarni qidirish"
    />
    <button id="themeToggle" aria-pressed="false" aria-label="Kun va tun temasini almashtirish">Tunga o‘tkazish</button>
  </div>
  <div id="gameCards" aria-live="polite" aria-atomic="true"></div>
</div>





<script>
  (() => {
    const loadingScreen = document.getElementById('loadingScreen');
    const progressBar = document.getElementById('progressBar');
    const mainContent = document.getElementById('mainContent');
    const gameCards = document.getElementById('gameCards');
    const searchInput = document.getElementById('searchInput');

    const themeToggle = document.getElementById('themeToggle');

    // O'yinlar ro'yxati - har biriga o'ziga xos URL qo'yiladi
    const games = [
      {
        name: "O'yin 1",
        description: "Juda qiziqarli o'yin 1.",
        img: "https://picsum.photos/seed/game1/400/160",
        url: "game2.html"
      },

    {
        name: "O'yin 2",
        description: "Zamonaviy o'yin 2.",
        img: "https://picsum.photos/seed/game2/400/160",
        url: "games3.html"
      },
      {
        name: "Ferkagame ",
        description: "Zamonaviy o'yin 2.",
        img: "https://picsum.photos/seed/game2/400/160",
        url: "game4.html"
      },
      {
        name: "O'yin 3",
        description: "Foydali o'yin 3.",
        img: "https://picsum.photos/seed/game3/400/160",
        url: "https://wikipedia.org"
      },
      {
        name: "O'yin 4",
        description: "Qiziqarli o'yin 4.",
        img: "https://picsum.photos/seed/game4/400/160",
        url: "https://example.com"
      },
      {
        name: "O'yin 4",
        description: "Qiziqarli o'yin 4.",
        img: "https://picsum.photos/seed/game4/400/160",
        url: "https://example.com"
      },
      {
        name: "O'yin 4",
        description: "Qiziqarli o'yin 4.",
        img: "https://picsum.photos/seed/game4/400/160",
        url: "https://example.com"
      },
      {
        name: "O'yin 4",
        description: "Qiziqarli o'yin 4.",
        img: "https://picsum.photos/seed/game4/400/160",
        url: "https://example.com"
      },
      {
        name: "O'yin 4",
        description: "Qiziqarli o'yin 4.",
        img: "https://picsum.photos/seed/game4/400/160",
        url: "https://example.com"
      },
      {
        name: "O'yin 4",
        description: "Qiziqarli o'yin 4.",
        img: "https://picsum.photos/seed/game4/400/160",
        url: "https://example.com"
      },
      {
        name: "O'yin 4",
        description: "Qiziqarli o'yin 4.",
        img: "https://picsum.photos/seed/game4/400/160",
        url: "https://example.com"
      },
      {
        name: "O'yin 4",
        description: "Qiziqarli o'yin 4.",
        img: "https://picsum.photos/seed/game4/400/160",
        url: "https://example.com"
      }
      
      // kerak bo'lsa qo'shimcha o'yinlar qo'shish mumkin
    ];

    // Yuklanish animatsiyasi progress barini 10 soniya davomida to'ldirish
    function runLoading() {
      let width = 0;
      const interval = setInterval(() => {
        width += 1; // har 100ms da 1% oshadi => 100*100ms = 10s
        progressBar.style.width = width + '%';
        if (width >= 100) {
          clearInterval(interval);
          loadingScreen.classList.add('hidden');
          mainContent.style.display = 'block';
          renderGames();
        }
      }, 100);
    }

    // Kartani yaratish
    function createCard(game) {
      const card = document.createElement('div');
      card.className = 'card';


      const img = document.createElement('img');
      img.src = game.img;
      img.alt = game.name;

      const content = document.createElement('div');
      content.className = 'card-content';

      const h3 = document.createElement('h3');
      h3.textContent = game.name;

      const p = document.createElement('p');
      p.textContent = game.description;



      const btnGroup = document.createElement('div');
      btnGroup.className = 'btnGroup';

      const playBtn = document.createElement('button');
      playBtn.className = 'btnPlay';
      playBtn.textContent = 'Play ▶️';

      playBtn.addEventListener('click', (e) => {
        e.stopPropagation();
        window.open(game.url, '_blank');
      });

      btnGroup.appendChild(playBtn);

      content.appendChild(h3);
      content.appendChild(p);
      content.appendChild(btnGroup);



      card.appendChild(img);
      card.appendChild(content);

      return card;
    }

    // O'yinlarni qidiruvga qarab chizish
    function renderGames(filter = '') {
      gameCards.innerHTML = '';
      const filtered = games.filter(g => g.name.toLowerCase().includes(filter.toLowerCase()));
      if (filtered.length === 0) {
        gameCards.textContent = "Hech qanday o'yin topilmadi.";
        return;
      }
      filtered.forEach(game => {
        const card = createCard(game);
        gameCards.appendChild(card);
      });
    }

    // Kun/Tun rejimini almashtirish
    function toggleTheme() {
      const isDark = document.body.classList.toggle('dark');
      themeToggle.textContent = isDark ? "Kunga o‘tkazish" : "Tunga o‘tkazish";
      themeToggle.setAttribute('aria-pressed', isDark);
    }

    themeToggle.addEventListener('click', toggleTheme);

    // Qidiruv inputi eventi
    searchInput.addEventListener('input', e => {
      renderGames(e.target.value);
    });

    // Yuklanishdan keyin asosiy kontentni ko‘rsatish
    window.addEventListener('load', runLoading);
  }
  )
  ();
</script>

</body>
</html>

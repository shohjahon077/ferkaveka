<!DOCTYPE html>
<html lang="uz">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>FERKAVEKA Video Player</title>
  <style>
    /* Baza */
    * {
      margin: 0; padding: 0; box-sizing: border-box;
    }
    body {
      background: #000;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      color: #fff;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px;
      min-height: 100vh;
    }
    h1 {
      color: #ff3300;
      text-shadow: 0 0 15px #ff3300;
      margin-bottom: 30px;
      font-size: 3rem;
      text-align: center;
      user-select: none;
    }

    /* Loading ekran */
    #loading {
      position: fixed;
      inset: 0;
      background: #111;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 9999;
    }
    #loading-text {
      font-size: 2rem;
      margin-bottom: 30px;
      color: #ff3300;
      text-shadow: 0 0 20px #ff3300;
      animation: pulse 2s infinite alternate;
    }
    #loading-bar-container {
      width: 80%;
      max-width: 400px;
      height: 15px;
      background: #222;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: inset 0 0 10px #ff3300;
    }
    #loading-bar {
      height: 100%;
      width: 0%;
      background: linear-gradient(90deg, #ff3300, #ff6600);
      border-radius: 10px;
      box-shadow: 0 0 10px #ff3300, 0 0 20px #ff6600;
      animation: loadAnim 5s forwards;
    }
    @keyframes loadAnim {
      0% { width: 0%; }
      100% { width: 100%; }
    }
    @keyframes pulse {
      0% { text-shadow: 0 0 10px #ff3300; }
      100% { text-shadow: 0 0 30px #ff6600; }
    }

    /* Video container */
    .video-container {
      position: relative;
      max-width: 900px;
      width: 100%;
      background: #111;
      border: 3px solid #ff3300;
      border-radius: 15px;
      box-shadow: 0 0 30px #ff3300, 0 0 60px #ff6600;
      display: none;
      flex-direction: column;
      user-select: none;
    }

    /* Video */
    video {
      width: 100%;
      border-radius: 15px 15px 0 0;
      background: black;
      display: block;
    }

    /* Controls */
    .controls {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 12px 20px;
      background: #222;
      border-radius: 0 0 15px 15px;
      box-shadow: inset 0 0 15px #ff3300;
    }

    .controls button,
    .controls input[type=range] {
      cursor: pointer;
      background: transparent;
      border: none;
      color: #ffcc33;
      font-size: 20px;
      user-select: none;
      transition: color 0.3s;
      margin: 0 5px;
    }
    .controls button:hover,
    .controls input[type=range]:hover {
      color: #fff;
    }
    .progress {
      flex-grow: 1;
      margin: 0 10px;
      -webkit-appearance: none;
      appearance: none;
      height: 6px;
      background: #444;
      border-radius: 6px;
      cursor: pointer;
      box-shadow: 0 0 5px #ff3300 inset;
    }
    .progress::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 16px;
      height: 16px;
      border-radius: 50%;
      background: #ff3300;
      cursor: pointer;
      box-shadow: 0 0 10px #ff3300;
      border: none;
      margin-top: -5px;
    }
    .progress::-moz-range-thumb {
      width: 16px;
      height: 16px;
      border-radius: 50%;
      background: #ff3300;
      cursor: pointer;
      border: none;
      box-shadow: 0 0 10px #ff3300;
    }
    .volume-slider {
      width: 100px;
    }
    @media (max-width: 600px) {
      h1 {
        font-size: 2rem;
      }
      .volume-slider {
        width: 60px;
      }
      .controls button {
        font-size: 18px;
        margin: 0 2px;
      }
    }

    /* Orqaga tugma */
    .back-btn {
      position: absolute;
      top: 15px;
      left: 15px;
      background: #ff3300;
      color: white;
      font-weight: bold;
      border: none;
      border-radius: 10px;
      padding: 10px 18px;
      cursor: pointer;
      box-shadow: 0 0 20px #ff3300, 0 0 40px #ff6600;
      animation: pulse 1.5s infinite alternate;
      z-index: 20;
      user-select: none;
    }
  </style>
</head>
<body>

  <!-- Loading ekrani -->
  <div id="loading">
    <div id="loading-text">Yuklanmoqda...</div>
    <div id="loading-bar-container">
      <div id="loading-bar"></div>
    </div>
  </div>

  <!-- Video sahifa -->
  <div class="video-container" id="videoContainer">
    <a href="index.html"><button class="back-btn" onclick="goBack()">Orqaga</button></a>
    <video id="video" src="IMG_6735.MOV" preload="metadata"></video>

    <div class="controls">
      <button id="playPauseBtn" title="Play/Pause">‚ñ∂Ô∏è</button>
      <input type="range" id="progress" class="progress" value="0" min="0" max="100" step="0.1" title="Video progress" />
      <button id="muteBtn" title="Ovoz o‚Äòchirish">üîä</button>
      <input type="range" id="volume" class="volume-slider" min="0" max="1" step="0.01" value="1" title="Ovoz" />
      <button id="fullscreenBtn" title="To‚Äòliq ekran">‚õ∂</button>
    </div>
  </div>

  <script>
    const loading = document.getElementById('loading');
    const videoContainer = document.getElementById('videoContainer');
    const video = document.getElementById('video');
    const playPauseBtn = document.getElementById('playPauseBtn');
    const muteBtn = document.getElementById('muteBtn');
    const volumeSlider = document.getElementById('volume');
    const progress = document.getElementById('progress');
    const fullscreenBtn = document.getElementById('fullscreenBtn');

    // Loading tugashi bilan video sahifani ko‚Äòrsatish
    setTimeout(() => {
      loading.style.display = 'none';
      videoContainer.style.display = 'flex';
    }, 5000);

    // Play/Pause
    playPauseBtn.addEventListener('click', () => {
      if(video.paused || video.ended){
        video.play();
        playPauseBtn.textContent = '‚è∏';
      } else {
        video.pause();
        playPauseBtn.textContent = '‚ñ∂Ô∏è';
      }
    });

    video.addEventListener('ended', () => {
      playPauseBtn.textContent = '‚ñ∂Ô∏è';
    });

    // Progress yangilanishi
    video.addEventListener('timeupdate', () => {
      const percent = (video.currentTime / video.duration) * 100;
      progress.value = percent || 0;
    });

    // Progress o'zgartirish
    progress.addEventListener('input', () => {
      const time = (progress.value / 100) * video.duration;
      video.currentTime = time;
    });

    // Mute/unmute
    muteBtn.addEventListener('click', () => {
      video.muted = !video.muted;
      muteBtn.textContent = video.muted ? 'üîà' : 'üîä';
      volumeSlider.value = video.muted ? 0 : video.volume;
    });

    // Volyumni o'zgartirish
    volumeSlider.addEventListener('input', () => {
      video.volume = volumeSlider.value;
      video.muted = video.volume === 0;
      muteBtn.textContent = video.muted ? 'üîà' : 'üîä';
    });

    // Fullscreen
    fullscreenBtn.addEventListener('click', () => {
      if (document.fullscreenElement) {
        document.exitFullscreen();
      } else if (video.requestFullscreen) {
        video.requestFullscreen();
      } else if (video.webkitRequestFullscreen) { /* Safari */
        video.webkitRequestFullscreen();
      } else if (video.msRequestFullscreen) { /* IE11 */
        video.msRequestFullscreen();
      }
    });

    // Orqaga tugma funksiyasi
    function goBack() {
      if(window.history.length > 1){
        window.history.back();
      } else {
        alert('Oldingi sahifa mavjud emas.');
      }
    }
  </script>

</body>
</html>
